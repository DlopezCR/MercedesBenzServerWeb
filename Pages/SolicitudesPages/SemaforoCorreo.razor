<div id="idSemaforoCurp" style="padding: 20px;">
    <table class="mbz-font-STextOffice-14 mbz-text-dark" style="width: 100%;">
        <tbody>
            <tr>
                <td colspan="3">
                    <table class="" style="">
                        <tbody>
                            <tr>
                                <td style="width:25%"></td>
                                <td style="width:10%">
                                    <div style="padding-bottom: 14px;">
                                        <div @ref="divProgressScore" class="progress-box" style="width: 118px;">
                                            <div>
                                                <svg width="118" height="118">
                                                    <circle r="50" cx="58" cy="58" class="progress-circle-back"></circle>
                                                    <circle r="50" cx="60" cy="58" class="progress-circle"></circle>
                                                </svg>
                                            </div>
                                            <div class="progress-percentage" style="left: -118px;">
                                                <p class="percentage-circle" style="height: 0px; width: 118px;display:none;">@Correo.datos_validacion.score</p>
                                            </div>
                                        </div>
                                    </div>
                                </td>
                                <td style="width: 65%; padding-left:40px;">
                                    <span class="mbz-font-STextOffice-B-20" style="color:@Correo.datos_validacion.color_semaforo_interno;">CONSULTA DE CORREO ELECTRÓNICO</span><br>
                                    <span class="mbz-font-STextOffice-B-20" style="color:@Correo.datos_validacion.color_semaforo_interno;">@Correo.datos_validacion.leyenda_score</span><br><br>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </td>
            </tr>
            <tr style="border-top: 2px solid #D9D9D9; border-bottom: 2px solid #D9D9D9; padding: 10px 0px; vertical-align: baseline;">
                <td style="width: 33%; padding: 10px 40px;">
                    <span class="mbz-font-STextOffice-B-14">Correo electrónico:</span>
                    <br>
                    <span>@Correo.datos_validacion.email</span>
                    <br><br>
                    <span class="mbz-font-STextOffice-B-14">Compañia:</span>
                    <br>
                    <span class="">@Correo.datos_validacion.dominio_empresa</span>
                </td>
                <td style="width: 33%; padding: 10px 40px;">
                    <span class="mbz-font-STextOffice-B-14">Dominio:</span>
                    <br>
                    <span>@Correo.datos_validacion.dominio</span>
                    <br>
                </td>
                <td style="width: 33%; padding: 10px 40px;">
                    <span class="mbz-font-STextOffice-B-14">Indicadores de riesgo:</span>
                    <br>
                    <span>@Correo.datos_validacion.leyenda_score</span>
                    <br>
                </td>
            </tr>
            <tr style="vertical-align: baseline;">
                <td style="padding: 10px 40px;">
                    <span class="mbz-font-STextOffice-B-14">Banda de riesgo:</span>
                    <br>
                    <span></span>
                    <br><br>
                    <span class="mbz-font-STextOffice-B-14">Calificación: </span>
                    <br>
                    <span>@Correo.datos_validacion.score</span>
                    <br><br>
                    <span class="mbz-font-STextOffice-B-14">¿Existe el email?:</span>
                    <br>
                    <span>Sí</span>
                    <br><br>
                    <span class="mbz-font-STextOffice-B-14">Tipo de fraude:</span>
                    <br>
                    <span class="labels_form_b">@Correo.datos_validacion.tipo_fraude</span>
                </td>
                <td style="padding: 10px 40px;">
                    <span class="mbz-font-STextOffice-B-14">País:</span>
                    <br>
                    <span>@Correo.datos_validacion.dominio_pais</span>
                    <br>
                </td>
                <td style="padding: 10px 40px;"></td>
            </tr>
        </tbody>
    </table>
</div>

@code {
    [Parameter] public CorreoResponse Correo { get; set; }
    [Parameter] public DateTime? FechaConsulta { get; set; }

    ElementReference divProgressScore;

    protected async override Task OnAfterRenderAsync(bool firstRender)
    {
        @if (firstRender)
            await JS.InvokeVoidAsync("MostrarScore", divProgressScore, 1000, @Correo.datos_validacion.score, 110, "#bdc3c7", @Correo.datos_validacion.color_semaforo_interno, "", false);
    }
}
